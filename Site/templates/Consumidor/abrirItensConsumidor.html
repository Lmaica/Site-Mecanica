{% extends 'NavAdimin.html' %}

{% block contentConsumidor %}
<style>
    .nomeCabecario {
        font-size: 2vw;
        font-weight: bold;
        color: #333;
        text-align: center;
        padding: 10px;
    }

    .itemConsumidor {
        display: flex;
        align-items: flex-start;
        /* Ajusta a imagem para alinhar no topo */
        background-color: #f9f9f9;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    .div-esquerda {
        position: relative;
        display: block;
        text-align: left;
        width: 100%;
    }

    .div-direita {
        display: block;
        text-align: right;
        width: 80%;
    }

    .div-direita img {
        position: relative;
        top: 0;
    }

    .itemConsumidor img {
        width: 100%;
        height: auto;
        border-radius: 5px;
        box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
    }

    .itemConsumidor h2 {
        color: #333;
        font-size: 24px;
        margin-bottom: 10px;
        text-align: center;
    }

    .details {
        width: 100%;
        padding: 10px;
    }

    .details table {
        width: 100%;
        margin-top: 20px;
        border-collapse: collapse;
        background-color: #ccc;
        border-radius: 10px;
    }

    .details th {
        background-color: #8b8b8b;
    }

    .details th,
    .details td {
        padding: 10px;
        border-bottom: 1px solid #ddd;
    }

    .details th {
        text-align: left;
        font-weight: bold;
    }

    .details tr:nth-child(even) {
        background-color: #f2f2f2;
        /* Cor para as linhas pares */
    }

    .details tr:nth-child(odd) {
        background-color: #e6e6e6;
        /* Cor para as linhas ímpares */
    }

    /* Estilos do container de oferta */

    .produto {
        position: relative;
        text-align: center;
        background-color: #fff;
        border-radius: 15px;
        margin: 10px;
        box-shadow: 2px 2px 6px 2px rgba(0, 0, 0, 0.5);
        height: 260px;

    }

    .produto:hover {
        cursor: pointer;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        transform: scale(1.05);
    }

    .produto img {
        width: 100%;
        height: 150px;
        border-radius: 10px;
        padding: 0;

    }

    .produto h2 {
        font-size: 1.2vw;
        margin: 10px 0;
        padding-bottom: 20px;
    }

    .valor-consumidor {
        color: #0e320b;
        font-weight: bold;
        margin-top: 10px;
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 100%;
        text-align: center;
        padding-bottom: 10px;
    }

    .botao-pedir-carro,
    .botao-agendar {
        background-color: #4CAF50;
        /* Cor de fundo verde */
        border: none;
        color: white;
        padding: 15px 32px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px;
        cursor: pointer;
        border-radius: 5px;
        transition: background-color 0.3s ease;
    }

    /* Estilo específico para o botão "Pedir Carro" */
    .botao-pedir-carro {
        background-color: #25ba00;
        /* Cor de fundo azul */
    }

    /* Estilo específico para o botão "Agendar" */
    .botao-agendar {
        background-color: #0918e4;
        /* Cor de fundo vermelha */
    }

    /* Estilo para o container dos botões */
    .botoes-container {
        display: flex;
        justify-content: space-between;
        /* Os botões ficarão alinhados um ao lado do outro, com espaço entre eles */
        margin-top: 20px;
    }

    /* Estilo hover para os botões */
    .botao-pedir-carro:hover,
    .botao-agendar:hover {
        background-color: #45a049;
        /* Cor de fundo mais escura ao passar o mouse */
    }

    .btn {
        background-color: #4CAF50;
        color: white;
        padding: 16px 20px;
        border: none;
        cursor: pointer;
        border-radius: 5px;
        font-size: 16px;
        transition: background-color 0.3s ease;
    }

    .btn:hover {
        background-color: #45a049;
    }

    /* Estilos para o Conversar */
    .btn {
        background-color: #4CAF50;
        color: white;
        padding: 16px 20px;
        border: none;
        cursor: pointer;
        border-radius: 5px;
        font-size: 16px;
        transition: background-color 0.3s ease;
    }

    .btn:hover {
        background-color: #45a049;
    }

    .spanP {
        width: 100% !important;
        text-align: center;
        font-size: 1vw;
    }


    .tipo-item {
        width: 100%;
        text-align: center;
        margin-bottom: 10px;
    }

    /* Estilos para os botões */
    .tipo-estilo-boton {
        width: 100%;
        text-align: center;
        padding: 10px 20px;
        border-radius: 5px;
        border: none;
    }

    .description-item {
        width: 96%;
        text-align: left;
        padding: 10px;
        border-radius: 10px;
        background-color: rgb(237, 237, 237);
        margin: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    }

    .description-item p {
        color: #000000;
        font-size: 1vw;
    }


    @media screen and (max-width: 760px) {
        .description-item p {
            font-size: 3vw;
        }

        .spanP {
            font-size: 2vw;
        }

        .nomeCabecario {
            font-size: 4vw;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
            text-align: center;
        }


        .itemConsumidor {
            display: block;
            align-items: center;
            justify-content: space-between;
            background-color: #f9f9f9;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .details {
            margin: 0;
            padding: 0;
            width: 100%;
            font-size: 2.4vw;
            align-items: center;
        }

        .details table {
            margin: 0;
            padding: 0;
            width: 100%;
            font-size: 2.4vw;
            border-collapse: collapse;

        }

        .div-direita {
            display: block;
            text-align: right;
            width: 100%;
        }

        .div-direita img {
            position: relative;
            top: 0;
        }

        .produto-oferta {
            position: relative;
            width: 300px;
            height: 200px;
            margin: 10px;
            border: 1px solid #ccc;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 2px 2px 6px 2px rgba(0, 0, 0, 0.8);
        }


        .produto h2 {
            font-size: 3vw;
            margin: 10px 0;
        }

        .valor-consumidor-oferta {
            margin-top: 10px;
            font-size: 5vw;
        }
    }
</style>
<div class="margens-consumidor">
    <div class="nomeCabecario">
        <h2>{{Combo.nome}}</h2>
    </div>

    <div class="itemConsumidor">
        <div class="div-esquerda">

            <div class="details">
                <table>
                    <thead>
                        <h3>Dados do Serviço</h3>
                        <p class="spanP">(Os preços das peças podem variar em até 20% para mais ou para menos.)</p>
                        <tr>
                            <th>Nome</th>
                            <th>Un</th>
                            <th>Valor</th>
                            <th>Total</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% if items_data_pecas %}
                        {% for item_peca in items_data_pecas %}
                        <tr>
                            <td>{{item_peca.nome}}</td>
                            <td>{{item_peca.un}}</td>
                            <td style="white-space: nowrap;">{{item_peca.preso}}</td>
                            <td style="white-space: nowrap;">{{item_peca.pago_total}}</td>
                        </tr>
                        {%endfor%}
                        {% else %}
                        {% endif %}
                        {% if items_data_MDO %}
                        {% for items_MDO in items_data_MDO %}
                        <tr>
                            <td>{{items_MDO.nome}}</td>
                            <td colspan="2">Mão de obra</td>
                            <td style="white-space: nowrap;">{{items_MDO.preso}}</td>
                        </tr>
                        {%endfor%}
                        {% else %}
                        {% endif %}
                        <tr>
                            <td><strong>TOTAL</strong></td>
                            <td></td>
                            <td></td>
                            <td><strong>{{Combo.valor_total}}</strong></td>
                        </tr>
                    </tbody>
                </table>

            </div>

            {% if Combo.tipo == 'Basico' %}
            <div class="tipo-item">
                <button class="tipo-estilo-boton cor-cancelar "><i class="far fa-circle"></i> Serviço (Básico)</button>
            </div>
            {% endif %}
            {% if Combo.tipo == 'Parcial' %}
            <div class="tipo-item">
                <button class="tipo-estilo-boton cor-alerta"><i class="fas fa-adjust"></i> Serviço (Parcial)</button>
            </div>
            {% endif %}
            {% if Combo.tipo == 'Completo' %}
            <div class="tipo-item">
                <button class="tipo-estilo-boton cor-ok"><i class="fas fa-circle"></i> Serviço (Completo)</button>
            </div>
            {% endif %}
        </div>

        <div class="div-direita">
            <img class="produto-img" src="{{url_for('static',filename='imagens/'+Combo.image_1)}}"
                alt="Nome do Produto">
            <div class="description-item">
                <p><strong>Descrição: </strong>{{Combo.obs}}</p>
            </div>
            <div class="description-item">
                <p><strong>Carros: </strong>{{Combo.carro}}</p>
            </div>
            <p class="spanP">(O valor pode variar de acordo com o ano e o motor do veículo.)</p>

            <div class="botoes-container">
                <button class="btn" onclick="openConversar()"><i class="fas fa-car btn-icon"></i>Para outro
                    Carro</button>
                <button class="btn" onclick="openConversar()"><i
                        class="fas fa-comment-alt btn-icon"></i>Consultar</button>
            </div>
        </div>
    </div>

    <div class="carousel">
        {% for item in similarCombos %}
        <div class="produto" onclick="abrirDetalhes('{{ item.id }}')">
            <img src="{{ url_for('static', filename='imagens/' + item.image_1) }}" alt="Produto 1">
            <h2 class="capitalize">{{item.nome}}</h2>
            <div class="valor-consumidor">
                <p class="valor-consumidor">{{item.valor_total}}</p>
            </div>
        </div>
        {% endfor %}
    </div>
</div>


<script>
    function abrirDetalhes(id) {
        window.location.href = `/dadosInformativos/${id}`;
    }

    $(document).ready(function () {
        $('.carousel').slick({
            slidesToShow: 5,
            slidesToScroll: 2,
            dots: false,
            arrows: false,
            autoplay: false, // Desabilita o autoplay
            responsive: [
                {
                    breakpoint: 767,
                    settings: {
                        slidesToShow: 2,
                        slidesToScroll: 1,
                        dots: true,
                        arrows: false,
                        centerMode: false,
                        centerPadding: '30px'
                    }
                }
            ],
            focusOnSelect: true
        });
    });
</script>

{% endblock contentConsumidor %}